{% extends 'layout.html' %}

{% block title %}
Search Results
{% endblock %}

{% block main %}

<h1>Search Results</h1>

{% if error == 'yes' %}
<div class="alert alert-danger" role="alert">
    <strong>{{ err }}</strong>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
{% endif %}

<h3>{{ search }}</h3>

<!-- structure with a card that has tooggles for list and grid view??? -->

{% if result %}
{% for row in result %}
<p>{{ row }}</p>
<hr>
{% endfor %}
{% elif others %}
<h4>Did you mean?</h4>
<p>Number of partial matches: {{ matches }}</p>
{% for row in others %}
<p>{{ row }}</p>
<hr>
{% endfor %}
{% endif %}

<form action="{{url_for('results', type='isbn')}}" method="POST">
    <div class="form-group">
        <label for="isbn">Search by ISBN:</label>
        <div class="input-group mb-3">
            <input class="form-control" type="text" placeholder="ISBN" name="isbn">
            <div class="input-group-append">
                <button class="btn btn-primary" type="submit">Search</button>
            </div>
        </div>
    </div>
</form>

<form action="{{url_for('results', type='title')}}" method="POST">
    <div class="form-group">
        <label for="isbn">Search by Title:</label>
        <div class="input-group mb-3">
            <input class="form-control" type="text" placeholder="Title" name="title">
            <div class="input-group-append">
                <button class="btn btn-primary" type="submit">Search</button>
            </div>
        </div>
    </div>
</form>

<form action="{{url_for('results', type='author')}}" method="POST">
    <div class="form-group">
        <label for="isbn">Search by Author:</label>
        <div class="input-group mb-3">
            <input class="form-control" type="text" placeholder="Author" name="author">
            <div class="input-group-append">
                <button class="btn btn-primary" type="submit">Search</button>
            </div>
        </div>
    </div>
</form>


{% endblock %}